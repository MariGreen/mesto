.popup__preview {
  width: 100%;
  height: 100%;
  position: fixed;
  background-color: rgba(0, 0, 0, 0.9);
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 100;  
  align-items: center;
  justify-content: center;
  margin: auto;
  /*display: none;*/
  visibility: collapse;
  opacity: 0;
/*          transition: all 0.3s, ease-in-out;
  -webkit-transition: all 0.3s, ease-in-out;
     -moz-transition: all 0.3s, ease-in-out;
       -o-transition: all 0.3s, ease-in-out;*/

/*          transition: visibility 0.3s, ease-in-out;
  -webkit-transition: visibility 0.3s, ease-in-out;
     -moz-transition: visibilityl 0.3s, ease-in-out;
       -o-transition: visibility 0.3s, ease-in-out;*/
       height: 0; opacity: 0;
    transition: height 0ms 400ms, opacity 400ms 0ms;
  
} 

.popup__preview .popup__preview_opened {
  display: flex;
  visibility: visible;
  /*opacity: 1;
  transition: all 1s, opacity 1s;
  -webkit-transition: all 1s, opacity 1s;
     -moz-transition: all 1s, opacity 1s;
       -o-transition: all 1s, opacity 1s;*/
       height: auto; opacity: 1;
    transition: height 0ms 0ms, opacity 600ms 0ms;
}